<template>
  <div class="statistics">
    <div class="row">
      <div class="col-md-3">
        <div class="item">
          <div class="infos">
            <div class="value">{{ parseFloat(getBookingsStats.total).toFixed(0) }}</div>
            <div class="type">Выручка</div>
          </div>
          <div class="icon">
            <svg width="24" height="28" viewBox="0 0 24 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M4.94118 28H8.23529V23.0588H18.1176V19.7647H8.23529V16.4706H15.6471C20.188 16.4706 23.8824 12.7762 23.8824 8.23529C23.8824 3.69435 20.188 0 15.6471 0H6.58824C6.15141 0 5.73247 0.173529 5.42359 0.482413C5.11471 0.791296 4.94118 1.21023 4.94118 1.64706V13.1765H0V16.4706H4.94118V19.7647H0V23.0588H4.94118V28ZM8.23529 3.29412H15.6471C18.3713 3.29412 20.5882 5.51106 20.5882 8.23529C20.5882 10.9595 18.3713 13.1765 15.6471 13.1765H8.23529V3.29412Z"
                fill="#F66F4D"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="item">
          <div class="infos">
            <div class="value">{{ parseFloat(getBookingsStats.average).toFixed(0) }}</div>
            <div class="type">Средний чек</div>
          </div>
          <div class="icon">
            <svg width="24" height="28" viewBox="0 0 24 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14 7H23.3333V21H14V7Z" fill="#F66F4D"/>
              <path d="M0 0H9.33333V28H0V0Z" fill="#F66F4D"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="item">
          <div class="infos">
            <div class="value">{{ getBookingsStats.cancelled }}</div>
            <div class="type">Отменённых броней</div>
          </div>
          <div class="icon">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M7.98 20.02C8.23667 20.2767 8.56333 20.405 8.96 20.405C9.35667 20.405 9.68333 20.2767 9.94 20.02L14 15.96L18.095 20.055C18.3517 20.3117 18.6727 20.4339 19.0582 20.4218C19.4427 20.4106 19.7633 20.2767 20.02 20.02C20.2767 19.7633 20.405 19.4367 20.405 19.04C20.405 18.6433 20.2767 18.3167 20.02 18.06L15.96 14L20.055 9.905C20.3117 9.64833 20.4339 9.32727 20.4218 8.9418C20.4106 8.55727 20.2767 8.23667 20.02 7.98C19.7633 7.72333 19.4367 7.595 19.04 7.595C18.6433 7.595 18.3167 7.72333 18.06 7.98L14 12.04L9.905 7.945C9.64833 7.68833 9.32773 7.5656 8.9432 7.5768C8.55773 7.58893 8.23667 7.72333 7.98 7.98C7.72333 8.23667 7.595 8.56333 7.595 8.96C7.595 9.35667 7.72333 9.68333 7.98 9.94L12.04 14L7.945 18.095C7.68833 18.3517 7.56607 18.6723 7.5782 19.0568C7.5894 19.4423 7.72333 19.7633 7.98 20.02ZM14 28C12.0633 28 10.2433 27.6323 8.54 26.8968C6.83667 26.1623 5.355 25.165 4.095 23.905C2.835 22.645 1.83773 21.1633 1.1032 19.46C0.367733 17.7567 0 15.9367 0 14C0 12.0633 0.367733 10.2433 1.1032 8.54C1.83773 6.83667 2.835 5.355 4.095 4.095C5.355 2.835 6.83667 1.83727 8.54 1.1018C10.2433 0.367267 12.0633 0 14 0C15.9367 0 17.7567 0.367267 19.46 1.1018C21.1633 1.83727 22.645 2.835 23.905 4.095C25.165 5.355 26.1623 6.83667 26.8968 8.54C27.6323 10.2433 28 12.0633 28 14C28 15.9367 27.6323 17.7567 26.8968 19.46C26.1623 21.1633 25.165 22.645 23.905 23.905C22.645 25.165 21.1633 26.1623 19.46 26.8968C17.7567 27.6323 15.9367 28 14 28ZM14 25.2C17.1033 25.2 19.7461 24.1094 21.9282 21.9282C24.1094 19.7461 25.2 17.1033 25.2 14C25.2 10.8967 24.1094 8.25393 21.9282 6.0718C19.7461 3.8906 17.1033 2.8 14 2.8C10.8967 2.8 8.2544 3.8906 6.0732 6.0718C3.89107 8.25393 2.8 10.8967 2.8 14C2.8 17.1033 3.89107 19.7461 6.0732 21.9282C8.2544 24.1094 10.8967 25.2 14 25.2Z"
                fill="#F66F4D"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="item">
          <div class="infos">
            <div class="value">{{ getBookingsStats.active }}</div>
            <div class="type">Активных броней</div>
          </div>
          <div class="icon">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M20.0734 0C15.6988 0 12.1485 3.54844 12.1485 7.92443C12.1485 9.14474 12.4477 10.2895 12.9391 11.3213L0.516482 23.7488C-0.172161 24.4374 -0.172161 25.5504 0.516482 26.239L1.76163 27.4841C2.09101 27.8152 2.53822 28 3.00678 28C3.47341 28 3.92084 27.8152 4.25193 27.4841L7.02037 24.7158L9.551 27.2516C9.88209 27.581 10.3292 27.7658 10.7962 27.7658C11.2648 27.7658 11.7119 27.5827 12.0413 27.2516L12.6649 26.6284C13.3535 25.9398 13.3535 24.8269 12.6649 24.1382L10.1306 21.6024L16.6763 15.0566C17.7118 15.5497 18.853 15.8489 20.0751 15.8489C24.453 15.8489 28 12.3004 28 7.92443C28 3.54844 24.4533 0 20.0734 0ZM20.0734 12.3269C17.6448 12.3269 15.6706 10.3509 15.6706 7.92443C15.6706 5.49796 17.6448 3.52197 20.0734 3.52197C22.502 3.52197 24.4761 5.49796 24.4761 7.92443C24.4761 10.3509 22.502 12.3269 20.0734 12.3269Z"
                fill="#F66F4D"/>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import {mapGetters} from 'vuex'

export default {
  name: 'statistics',
  data: function () {
    return {}
  },
  async mounted () {
    this.fetchStats()
  },
  computed: {
    ...mapGetters(['getBookingsStats'])
  },
  methods: {
    // Получить статистику
    fetchStats: function () {
      this.$store.dispatch('getBookingStats')
    }
  }
}
</script>
